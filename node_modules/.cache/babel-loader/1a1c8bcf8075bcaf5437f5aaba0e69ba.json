{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { defineComponent, inject, ref, computed, resolveComponent, openBlock, createElementBlock, normalizeClass, createElementVNode, withKeys, withModifiers, renderSlot, createTextVNode, toDisplayString, createVNode, withCtx, withDirectives, vShow } from 'vue';\nimport '../../../utils/index.mjs';\nimport _CollapseTransition from '../../collapse-transition/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { ArrowRight } from '@element-plus/icons-vue';\nimport '../../../hooks/index.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { generateId } from '../../../utils/rand.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nvar _sfc_main = defineComponent({\n  name: \"ElCollapseItem\",\n  components: {\n    ElCollapseTransition: _CollapseTransition,\n    ElIcon: ElIcon,\n    ArrowRight: ArrowRight\n  },\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    name: {\n      type: [String, Number],\n      default: function _default() {\n        return generateId();\n      }\n    },\n    disabled: Boolean\n  },\n  setup: function setup(props) {\n    var collapse = inject(\"collapse\");\n    var ns = useNamespace(\"collapse\");\n    var contentWrapStyle = ref({\n      height: \"auto\",\n      display: \"block\"\n    });\n    var contentHeight = ref(0);\n    var focusing = ref(false);\n    var isClick = ref(false);\n    var id = ref(generateId());\n    var isActive = computed(function () {\n      return (collapse == null ? void 0 : collapse.activeNames.value.indexOf(props.name)) > -1;\n    });\n\n    var handleFocus = function handleFocus() {\n      setTimeout(function () {\n        if (!isClick.value) {\n          focusing.value = true;\n        } else {\n          isClick.value = false;\n        }\n      }, 50);\n    };\n\n    var handleHeaderClick = function handleHeaderClick() {\n      if (props.disabled) return;\n      collapse == null ? void 0 : collapse.handleItemClick(props.name);\n      focusing.value = false;\n      isClick.value = true;\n    };\n\n    var handleEnterClick = function handleEnterClick() {\n      collapse == null ? void 0 : collapse.handleItemClick(props.name);\n    };\n\n    return {\n      isActive: isActive,\n      contentWrapStyle: contentWrapStyle,\n      contentHeight: contentHeight,\n      focusing: focusing,\n      isClick: isClick,\n      id: id,\n      ns: ns,\n      handleFocus: handleFocus,\n      handleHeaderClick: handleHeaderClick,\n      handleEnterClick: handleEnterClick,\n      collapse: collapse\n    };\n  }\n});\n\nvar _hoisted_1 = [\"aria-expanded\", \"aria-controls\", \"aria-describedby\"];\nvar _hoisted_2 = [\"id\", \"tabindex\"];\nvar _hoisted_3 = [\"id\", \"aria-hidden\", \"aria-labelledby\"];\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_arrow_right = resolveComponent(\"arrow-right\");\n\n  var _component_el_icon = resolveComponent(\"el-icon\");\n\n  var _component_el_collapse_transition = resolveComponent(\"el-collapse-transition\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([_ctx.ns.b(\"item\"), _ctx.ns.is(\"active\", _ctx.isActive), _ctx.ns.is(\"disabled\", _ctx.disabled)])\n  }, [createElementVNode(\"div\", {\n    role: \"tab\",\n    \"aria-expanded\": _ctx.isActive,\n    \"aria-controls\": _ctx.ns.b(\"content-\".concat(_ctx.id)),\n    \"aria-describedby\": _ctx.ns.b(\"content-\".concat(_ctx.id))\n  }, [createElementVNode(\"div\", {\n    id: _ctx.ns.b(\"head-\".concat(_ctx.id)),\n    class: normalizeClass([_ctx.ns.be(\"item\", \"header\"), _ctx.ns.is(\"active\", _ctx.isActive), {\n      focusing: _ctx.focusing\n    }]),\n    role: \"button\",\n    tabindex: _ctx.disabled ? -1 : 0,\n    onClick: _cache[0] || (_cache[0] = function () {\n      return _ctx.handleHeaderClick && _ctx.handleHeaderClick.apply(_ctx, arguments);\n    }),\n    onKeyup: _cache[1] || (_cache[1] = withKeys(withModifiers(function () {\n      return _ctx.handleEnterClick && _ctx.handleEnterClick.apply(_ctx, arguments);\n    }, [\"stop\"]), [\"space\", \"enter\"])),\n    onFocus: _cache[2] || (_cache[2] = function () {\n      return _ctx.handleFocus && _ctx.handleFocus.apply(_ctx, arguments);\n    }),\n    onBlur: _cache[3] || (_cache[3] = function ($event) {\n      return _ctx.focusing = false;\n    })\n  }, [renderSlot(_ctx.$slots, \"title\", {}, function () {\n    return [createTextVNode(toDisplayString(_ctx.title), 1)];\n  }), createVNode(_component_el_icon, {\n    class: normalizeClass([_ctx.ns.be(\"item\", \"arrow\"), _ctx.ns.is(\"active\", _ctx.isActive)])\n  }, {\n    default: withCtx(function () {\n      return [createVNode(_component_arrow_right)];\n    }),\n    _: 1\n  }, 8, [\"class\"])], 42, _hoisted_2)], 8, _hoisted_1), createVNode(_component_el_collapse_transition, null, {\n    default: withCtx(function () {\n      return [withDirectives(createElementVNode(\"div\", {\n        id: _ctx.ns.b(\"content-\".concat(_ctx.id)),\n        class: normalizeClass(_ctx.ns.be(\"item\", \"wrap\")),\n        role: \"tabpanel\",\n        \"aria-hidden\": !_ctx.isActive,\n        \"aria-labelledby\": _ctx.ns.b(\"head-\".concat(_ctx.id))\n      }, [createElementVNode(\"div\", {\n        class: normalizeClass(_ctx.ns.be(\"item\", \"content\"))\n      }, [renderSlot(_ctx.$slots, \"default\")], 2)], 10, _hoisted_3), [[vShow, _ctx.isActive]])];\n    }),\n    _: 3\n  })], 2);\n}\n\nvar CollapseItem = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { CollapseItem as default };","map":{"version":3,"mappings":"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","names":["_sfc_main","defineComponent","name","components","ElCollapseTransition","ElIcon","ArrowRight","props","title","type","String","default","Number","generateId","disabled","Boolean","setup","collapse","inject","ns","useNamespace","contentWrapStyle","ref","height","display","contentHeight","focusing","isClick","id","isActive","computed","value","indexOf","handleFocus","setTimeout","handleHeaderClick","handleEnterClick","_createElementBlock","class","_normalizeClass","_ctx","b","is","_createElementVNode","role","be","tabindex","onClick","_cache","onKeyup","onFocus","onBlur","_renderSlot","_createVNode","_component_el_icon","_component_arrow_right","_","_component_el_collapse_transition"],"sources":["../../../../../../packages/components/collapse/src/collapse-item.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"[\n      ns.b('item'),\n      ns.is('active', isActive),\n      ns.is('disabled', disabled),\n    ]\"\n  >\n    <div\n      role=\"tab\"\n      :aria-expanded=\"isActive\"\n      :aria-controls=\"ns.b(`content-${id}`)\"\n      :aria-describedby=\"ns.b(`content-${id}`)\"\n    >\n      <div\n        :id=\"ns.b(`head-${id}`)\"\n        :class=\"[\n          ns.be('item', 'header'),\n          ns.is('active', isActive),\n          { focusing },\n        ]\"\n        role=\"button\"\n        :tabindex=\"disabled ? -1 : 0\"\n        @click=\"handleHeaderClick\"\n        @keyup.space.enter.stop=\"handleEnterClick\"\n        @focus=\"handleFocus\"\n        @blur=\"focusing = false\"\n      >\n        <slot name=\"title\">{{ title }}</slot>\n        <el-icon :class=\"[ns.be('item', 'arrow'), ns.is('active', isActive)]\">\n          <arrow-right />\n        </el-icon>\n      </div>\n    </div>\n    <el-collapse-transition>\n      <div\n        v-show=\"isActive\"\n        :id=\"ns.b(`content-${id}`)\"\n        :class=\"ns.be('item', 'wrap')\"\n        role=\"tabpanel\"\n        :aria-hidden=\"!isActive\"\n        :aria-labelledby=\"ns.b(`head-${id}`)\"\n      >\n        <div :class=\"ns.be('item', 'content')\">\n          <slot></slot>\n        </div>\n      </div>\n    </el-collapse-transition>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, inject, computed, ref } from 'vue'\nimport { generateId } from '@element-plus/utils'\nimport ElCollapseTransition from '@element-plus/components/collapse-transition'\nimport ElIcon from '@element-plus/components/icon'\nimport { ArrowRight } from '@element-plus/icons-vue'\nimport { useNamespace } from '@element-plus/hooks'\n\nimport type { PropType } from 'vue'\nimport type { CollapseProvider } from './collapse.type'\n\nexport default defineComponent({\n  name: 'ElCollapseItem',\n  components: { ElCollapseTransition, ElIcon, ArrowRight },\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    name: {\n      type: [String, Number] as PropType<string | number>,\n      default: () => {\n        return generateId()\n      },\n    },\n    disabled: Boolean,\n  },\n  setup(props) {\n    const collapse = inject<CollapseProvider>('collapse')\n    const ns = useNamespace('collapse')\n\n    const contentWrapStyle = ref({\n      height: 'auto',\n      display: 'block',\n    })\n    const contentHeight = ref(0)\n    const focusing = ref(false)\n    const isClick = ref(false)\n    const id = ref(generateId())\n\n    const isActive = computed(() => {\n      return collapse?.activeNames.value.indexOf(props.name) > -1\n    })\n\n    const handleFocus = () => {\n      setTimeout(() => {\n        if (!isClick.value) {\n          focusing.value = true\n        } else {\n          isClick.value = false\n        }\n      }, 50)\n    }\n\n    const handleHeaderClick = () => {\n      if (props.disabled) return\n      collapse?.handleItemClick(props.name)\n      focusing.value = false\n      isClick.value = true\n    }\n\n    const handleEnterClick = () => {\n      collapse?.handleItemClick(props.name)\n    }\n\n    return {\n      isActive,\n      contentWrapStyle,\n      contentHeight,\n      focusing,\n      isClick,\n      id,\n      ns,\n      handleFocus,\n      handleHeaderClick,\n      handleEnterClick,\n      collapse,\n    }\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}