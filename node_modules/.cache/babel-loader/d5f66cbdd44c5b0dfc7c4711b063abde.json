{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport { defineComponent, ref, computed, watchEffect, resolveComponent, openBlock, createElementBlock, normalizeClass, withKeys, createCommentVNode, createBlock, Fragment, renderList, toDisplayString } from 'vue';\nimport { DArrowLeft, DArrowRight, MoreFilled } from '@element-plus/icons-vue';\nimport '../../../../hooks/index.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nvar paginationPagerProps = {\n  currentPage: {\n    type: Number,\n    default: 1\n  },\n  pageCount: {\n    type: Number,\n    required: true\n  },\n  pagerCount: {\n    type: Number,\n    default: 7\n  },\n  disabled: Boolean\n};\n\nvar _sfc_main = defineComponent({\n  name: \"ElPaginationPager\",\n  components: {\n    DArrowLeft: DArrowLeft,\n    DArrowRight: DArrowRight,\n    MoreFilled: MoreFilled\n  },\n  props: paginationPagerProps,\n  emits: [\"change\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var nsPager = useNamespace(\"pager\");\n    var nsIcon = useNamespace(\"icon\");\n    var showPrevMore = ref(false);\n    var showNextMore = ref(false);\n    var quickPrevHover = ref(false);\n    var quickNextHover = ref(false);\n    var pagers = computed(function () {\n      var pagerCount = props.pagerCount;\n      var halfPagerCount = (pagerCount - 1) / 2;\n      var currentPage = Number(props.currentPage);\n      var pageCount = Number(props.pageCount);\n      var showPrevMore2 = false;\n      var showNextMore2 = false;\n\n      if (pageCount > pagerCount) {\n        if (currentPage > pagerCount - halfPagerCount) {\n          showPrevMore2 = true;\n        }\n\n        if (currentPage < pageCount - halfPagerCount) {\n          showNextMore2 = true;\n        }\n      }\n\n      var array = [];\n\n      if (showPrevMore2 && !showNextMore2) {\n        var startPage = pageCount - (pagerCount - 2);\n\n        for (var i = startPage; i < pageCount; i++) {\n          array.push(i);\n        }\n      } else if (!showPrevMore2 && showNextMore2) {\n        for (var _i = 2; _i < pagerCount; _i++) {\n          array.push(_i);\n        }\n      } else if (showPrevMore2 && showNextMore2) {\n        var offset = Math.floor(pagerCount / 2) - 1;\n\n        for (var _i2 = currentPage - offset; _i2 <= currentPage + offset; _i2++) {\n          array.push(_i2);\n        }\n      } else {\n        for (var _i3 = 2; _i3 < pageCount; _i3++) {\n          array.push(_i3);\n        }\n      }\n\n      return array;\n    });\n    watchEffect(function () {\n      var halfPagerCount = (props.pagerCount - 1) / 2;\n      showPrevMore.value = false;\n      showNextMore.value = false;\n\n      if (props.pageCount > props.pagerCount) {\n        if (props.currentPage > props.pagerCount - halfPagerCount) {\n          showPrevMore.value = true;\n        }\n\n        if (props.currentPage < props.pageCount - halfPagerCount) {\n          showNextMore.value = true;\n        }\n      }\n    });\n\n    function onMouseenter(direction) {\n      if (props.disabled) return;\n\n      if (direction === \"left\") {\n        quickPrevHover.value = true;\n      } else {\n        quickNextHover.value = true;\n      }\n    }\n\n    function onEnter(e) {\n      var target = e.target;\n\n      if (target.tagName.toLowerCase() === \"li\" && Array.from(target.classList).includes(\"number\")) {\n        var newPage = Number(target.textContent);\n\n        if (newPage !== props.currentPage) {\n          emit(\"change\", newPage);\n        }\n      }\n    }\n\n    function onPagerClick(event) {\n      var target = event.target;\n\n      if (target.tagName.toLowerCase() === \"ul\" || props.disabled) {\n        return;\n      }\n\n      var newPage = Number(target.textContent);\n      var pageCount = props.pageCount;\n      var currentPage = props.currentPage;\n      var pagerCountOffset = props.pagerCount - 2;\n\n      if (target.className.includes(\"more\")) {\n        if (target.className.includes(\"quickprev\")) {\n          newPage = currentPage - pagerCountOffset;\n        } else if (target.className.includes(\"quicknext\")) {\n          newPage = currentPage + pagerCountOffset;\n        }\n      }\n\n      if (!isNaN(newPage)) {\n        if (newPage < 1) {\n          newPage = 1;\n        }\n\n        if (newPage > pageCount) {\n          newPage = pageCount;\n        }\n      }\n\n      if (newPage !== currentPage) {\n        emit(\"change\", newPage);\n      }\n    }\n\n    return {\n      showPrevMore: showPrevMore,\n      showNextMore: showNextMore,\n      quickPrevHover: quickPrevHover,\n      quickNextHover: quickNextHover,\n      pagers: pagers,\n      nsPager: nsPager,\n      nsIcon: nsIcon,\n      onMouseenter: onMouseenter,\n      onPagerClick: onPagerClick,\n      onEnter: onEnter\n    };\n  }\n});\n\nvar _hoisted_1 = [\"aria-current\"];\nvar _hoisted_2 = [\"aria-current\"];\nvar _hoisted_3 = [\"aria-current\"];\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_d_arrow_left = resolveComponent(\"d-arrow-left\");\n\n  var _component_more_filled = resolveComponent(\"more-filled\");\n\n  var _component_d_arrow_right = resolveComponent(\"d-arrow-right\");\n\n  return openBlock(), createElementBlock(\"ul\", {\n    class: normalizeClass(_ctx.nsPager.b()),\n    onClick: _cache[4] || (_cache[4] = function () {\n      return _ctx.onPagerClick && _ctx.onPagerClick.apply(_ctx, arguments);\n    }),\n    onKeyup: _cache[5] || (_cache[5] = withKeys(function () {\n      return _ctx.onEnter && _ctx.onEnter.apply(_ctx, arguments);\n    }, [\"enter\"]))\n  }, [_ctx.pageCount > 0 ? (openBlock(), createElementBlock(\"li\", {\n    key: 0,\n    class: normalizeClass([{\n      active: _ctx.currentPage === 1,\n      disabled: _ctx.disabled\n    }, \"number\"]),\n    \"aria-current\": _ctx.currentPage === 1,\n    tabindex: \"0\"\n  }, \" 1 \", 10, _hoisted_1)) : createCommentVNode(\"v-if\", true), _ctx.showPrevMore ? (openBlock(), createElementBlock(\"li\", {\n    key: 1,\n    class: normalizeClass([\"more\", \"btn-quickprev\", _ctx.nsIcon.b(), {\n      disabled: _ctx.disabled\n    }]),\n    onMouseenter: _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.onMouseenter(\"left\");\n    }),\n    onMouseleave: _cache[1] || (_cache[1] = function ($event) {\n      return _ctx.quickPrevHover = false;\n    })\n  }, [_ctx.quickPrevHover ? (openBlock(), createBlock(_component_d_arrow_left, {\n    key: 0\n  })) : (openBlock(), createBlock(_component_more_filled, {\n    key: 1\n  }))], 34)) : createCommentVNode(\"v-if\", true), (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.pagers, function (pager) {\n    return openBlock(), createElementBlock(\"li\", {\n      key: pager,\n      class: normalizeClass([{\n        active: _ctx.currentPage === pager,\n        disabled: _ctx.disabled\n      }, \"number\"]),\n      \"aria-current\": _ctx.currentPage === pager,\n      tabindex: \"0\"\n    }, toDisplayString(pager), 11, _hoisted_2);\n  }), 128)), _ctx.showNextMore ? (openBlock(), createElementBlock(\"li\", {\n    key: 2,\n    class: normalizeClass([\"more\", \"btn-quicknext\", _ctx.nsIcon.b(), {\n      disabled: _ctx.disabled\n    }]),\n    onMouseenter: _cache[2] || (_cache[2] = function ($event) {\n      return _ctx.onMouseenter(\"right\");\n    }),\n    onMouseleave: _cache[3] || (_cache[3] = function ($event) {\n      return _ctx.quickNextHover = false;\n    })\n  }, [_ctx.quickNextHover ? (openBlock(), createBlock(_component_d_arrow_right, {\n    key: 0\n  })) : (openBlock(), createBlock(_component_more_filled, {\n    key: 1\n  }))], 34)) : createCommentVNode(\"v-if\", true), _ctx.pageCount > 1 ? (openBlock(), createElementBlock(\"li\", {\n    key: 3,\n    class: normalizeClass([{\n      active: _ctx.currentPage === _ctx.pageCount,\n      disabled: _ctx.disabled\n    }, \"number\"]),\n    \"aria-current\": _ctx.currentPage === _ctx.pageCount,\n    tabindex: \"0\"\n  }, toDisplayString(_ctx.pageCount), 11, _hoisted_3)) : createCommentVNode(\"v-if\", true)], 34);\n}\n\nvar Pager = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { Pager as default };","map":{"version":3,"mappings":"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","names":["paginationPagerProps","currentPage","type","Number","default","pageCount","required","pagerCount","disabled","Boolean","_sfc_main","defineComponent","name","components","DArrowLeft","DArrowRight","MoreFilled","props","emits","setup","emit","nsPager","useNamespace","nsIcon","showPrevMore","ref","showNextMore","quickPrevHover","quickNextHover","pagers","computed","halfPagerCount","showPrevMore2","showNextMore2","array","startPage","i","push","offset","Math","floor","watchEffect","value","direction","e","target","tagName","toLowerCase","Array","from","classList","includes","newPage","textContent","event","pagerCountOffset","className","isNaN","onMouseenter","onPagerClick","onEnter","_createElementBlock","class","_normalizeClass","_ctx","b","onClick","_cache","onKeyup","openBlock","key","tabindex","_hoisted_1","createCommentVNode","onMouseleave","_createBlock","_component_d_arrow_left","_component_more_filled","_Fragment","pager","toDisplayString","_hoisted_2","_component_d_arrow_right","_hoisted_3"],"sources":["../../../../../../../packages/components/pagination/src/components/pager.vue"],"sourcesContent":["<template>\n  <ul :class=\"nsPager.b()\" @click=\"onPagerClick\" @keyup.enter=\"onEnter\">\n    <li\n      v-if=\"pageCount > 0\"\n      :class=\"{ active: currentPage === 1, disabled }\"\n      class=\"number\"\n      :aria-current=\"currentPage === 1\"\n      tabindex=\"0\"\n    >\n      1\n    </li>\n    <li\n      v-if=\"showPrevMore\"\n      :class=\"['more', 'btn-quickprev', nsIcon.b(), { disabled }]\"\n      @mouseenter=\"onMouseenter('left')\"\n      @mouseleave=\"quickPrevHover = false\"\n    >\n      <d-arrow-left v-if=\"quickPrevHover\" />\n      <more-filled v-else />\n    </li>\n    <li\n      v-for=\"pager in pagers\"\n      :key=\"pager\"\n      :class=\"{ active: currentPage === pager, disabled }\"\n      class=\"number\"\n      :aria-current=\"currentPage === pager\"\n      tabindex=\"0\"\n    >\n      {{ pager }}\n    </li>\n    <li\n      v-if=\"showNextMore\"\n      :class=\"['more', 'btn-quicknext', nsIcon.b(), { disabled }]\"\n      @mouseenter=\"onMouseenter('right')\"\n      @mouseleave=\"quickNextHover = false\"\n    >\n      <d-arrow-right v-if=\"quickNextHover\" />\n      <more-filled v-else />\n    </li>\n    <li\n      v-if=\"pageCount > 1\"\n      :class=\"{ active: currentPage === pageCount, disabled }\"\n      class=\"number\"\n      :aria-current=\"currentPage === pageCount\"\n      tabindex=\"0\"\n    >\n      {{ pageCount }}\n    </li>\n  </ul>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, watchEffect } from 'vue'\nimport { MoreFilled, DArrowLeft, DArrowRight } from '@element-plus/icons-vue'\nimport { useNamespace } from '@element-plus/hooks'\n\nconst paginationPagerProps = {\n  currentPage: {\n    type: Number,\n    default: 1,\n  },\n  pageCount: {\n    type: Number,\n    required: true,\n  },\n  pagerCount: {\n    type: Number,\n    default: 7,\n  },\n  disabled: Boolean,\n} as const\n\nexport default defineComponent({\n  name: 'ElPaginationPager',\n\n  components: {\n    DArrowLeft,\n    DArrowRight,\n    MoreFilled,\n  },\n  props: paginationPagerProps,\n  emits: ['change'],\n\n  setup(props, { emit }) {\n    const nsPager = useNamespace('pager')\n    const nsIcon = useNamespace('icon')\n\n    const showPrevMore = ref(false)\n    const showNextMore = ref(false)\n    const quickPrevHover = ref(false)\n    const quickNextHover = ref(false)\n\n    const pagers = computed(() => {\n      const pagerCount = props.pagerCount\n      const halfPagerCount = (pagerCount - 1) / 2\n      const currentPage = Number(props.currentPage)\n      const pageCount = Number(props.pageCount)\n\n      let showPrevMore = false\n      let showNextMore = false\n      if (pageCount > pagerCount) {\n        if (currentPage > pagerCount - halfPagerCount) {\n          showPrevMore = true\n        }\n        if (currentPage < pageCount - halfPagerCount) {\n          showNextMore = true\n        }\n      }\n      const array: number[] = []\n      if (showPrevMore && !showNextMore) {\n        const startPage = pageCount - (pagerCount - 2)\n        for (let i = startPage; i < pageCount; i++) {\n          array.push(i)\n        }\n      } else if (!showPrevMore && showNextMore) {\n        for (let i = 2; i < pagerCount; i++) {\n          array.push(i)\n        }\n      } else if (showPrevMore && showNextMore) {\n        const offset = Math.floor(pagerCount / 2) - 1\n        for (let i = currentPage - offset; i <= currentPage + offset; i++) {\n          array.push(i)\n        }\n      } else {\n        for (let i = 2; i < pageCount; i++) {\n          array.push(i)\n        }\n      }\n\n      return array\n    })\n\n    watchEffect(() => {\n      const halfPagerCount = (props.pagerCount - 1) / 2\n\n      showPrevMore.value = false\n      showNextMore.value = false\n\n      if (props.pageCount > props.pagerCount) {\n        if (props.currentPage > props.pagerCount - halfPagerCount) {\n          showPrevMore.value = true\n        }\n        if (props.currentPage < props.pageCount - halfPagerCount) {\n          showNextMore.value = true\n        }\n      }\n    })\n\n    function onMouseenter(direction: 'left' | 'right') {\n      if (props.disabled) return\n      if (direction === 'left') {\n        quickPrevHover.value = true\n      } else {\n        quickNextHover.value = true\n      }\n    }\n\n    function onEnter(e: UIEvent) {\n      const target = e.target as HTMLElement\n      if (\n        target.tagName.toLowerCase() === 'li' &&\n        Array.from(target.classList).includes('number')\n      ) {\n        const newPage = Number(target.textContent)\n        if (newPage !== props.currentPage) {\n          emit('change', newPage)\n        }\n      }\n    }\n\n    function onPagerClick(event: UIEvent) {\n      const target = event.target as HTMLElement\n      if (target.tagName.toLowerCase() === 'ul' || props.disabled) {\n        return\n      }\n\n      let newPage = Number(target.textContent)\n      const pageCount = props.pageCount\n      const currentPage = props.currentPage\n      const pagerCountOffset = props.pagerCount - 2\n      if (target.className.includes('more')) {\n        if (target.className.includes('quickprev')) {\n          newPage = currentPage - pagerCountOffset\n        } else if (target.className.includes('quicknext')) {\n          newPage = currentPage + pagerCountOffset\n        }\n      }\n      if (!isNaN(newPage)) {\n        if (newPage < 1) {\n          newPage = 1\n        }\n        if (newPage > pageCount) {\n          newPage = pageCount\n        }\n      }\n      if (newPage !== currentPage) {\n        emit('change', newPage)\n      }\n    }\n\n    return {\n      showPrevMore,\n      showNextMore,\n      quickPrevHover,\n      quickNextHover,\n      pagers,\n      nsPager,\n      nsIcon,\n\n      onMouseenter,\n      onPagerClick,\n      onEnter,\n    }\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}