{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { defineComponent, getCurrentInstance, inject, toRef, computed, reactive, onMounted, onBeforeUnmount, resolveComponent, openBlock, createElementBlock, normalizeClass, normalizeStyle, createBlock, withCtx, renderSlot, createElementVNode, Fragment } from 'vue';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport '../../popper/index.mjs';\nimport '../../../utils/index.mjs';\nimport useMenu from './use-menu.mjs';\nimport { menuItemProps, menuItemEmits } from './menu-item.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { throwError } from '../../../utils/error.mjs';\nimport { Effect } from '../../popper/src/popper.mjs';\nvar COMPONENT_NAME = \"ElMenuItem\";\n\nvar _sfc_main = defineComponent({\n  name: COMPONENT_NAME,\n  components: {\n    ElTooltip: ElTooltip\n  },\n  props: menuItemProps,\n  emits: menuItemEmits,\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var instance = getCurrentInstance();\n    var rootMenu = inject(\"rootMenu\");\n    if (!rootMenu) throwError(COMPONENT_NAME, \"can not inject root menu\");\n\n    var _useMenu = useMenu(instance, toRef(props, \"index\")),\n        parentMenu = _useMenu.parentMenu,\n        paddingStyle = _useMenu.paddingStyle,\n        indexPath = _useMenu.indexPath;\n\n    var subMenu = inject(\"subMenu:\".concat(parentMenu.value.uid));\n    if (!subMenu) throwError(COMPONENT_NAME, \"can not inject sub menu\");\n    var active = computed(function () {\n      return props.index === rootMenu.activeIndex;\n    });\n    var item = reactive({\n      index: props.index,\n      indexPath: indexPath,\n      active: active\n    });\n\n    var handleClick = function handleClick() {\n      if (!props.disabled) {\n        rootMenu.handleMenuItemClick({\n          index: props.index,\n          indexPath: indexPath.value,\n          route: props.route\n        });\n        emit(\"click\", item);\n      }\n    };\n\n    onMounted(function () {\n      subMenu.addSubMenu(item);\n      rootMenu.addMenuItem(item);\n    });\n    onBeforeUnmount(function () {\n      subMenu.removeSubMenu(item);\n      rootMenu.removeMenuItem(item);\n    });\n    return {\n      Effect: Effect,\n      parentMenu: parentMenu,\n      rootMenu: rootMenu,\n      paddingStyle: paddingStyle,\n      active: active,\n      handleClick: handleClick\n    };\n  }\n});\n\nvar _hoisted_1 = {\n  style: {\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    height: \"100%\",\n    width: \"100%\",\n    display: \"inline-block\",\n    boxSizing: \"border-box\",\n    padding: \"0 20px\"\n  }\n};\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_tooltip = resolveComponent(\"el-tooltip\");\n\n  return openBlock(), createElementBlock(\"li\", {\n    class: normalizeClass([\"el-menu-item\", {\n      \"is-active\": _ctx.active,\n      \"is-disabled\": _ctx.disabled\n    }]),\n    role: \"menuitem\",\n    tabindex: \"-1\",\n    style: normalizeStyle(_ctx.paddingStyle),\n    onClick: _cache[0] || (_cache[0] = function () {\n      return _ctx.handleClick && _ctx.handleClick.apply(_ctx, arguments);\n    })\n  }, [_ctx.parentMenu.type.name === \"ElMenu\" && _ctx.rootMenu.props.collapse && _ctx.$slots.title ? (openBlock(), createBlock(_component_el_tooltip, {\n    key: 0,\n    effect: _ctx.Effect.DARK,\n    placement: \"right\",\n    persistent: \"\"\n  }, {\n    content: withCtx(function () {\n      return [renderSlot(_ctx.$slots, \"title\")];\n    }),\n    default: withCtx(function () {\n      return [createElementVNode(\"div\", _hoisted_1, [renderSlot(_ctx.$slots, \"default\")])];\n    }),\n    _: 3\n  }, 8, [\"effect\"])) : (openBlock(), createElementBlock(Fragment, {\n    key: 1\n  }, [renderSlot(_ctx.$slots, \"default\"), renderSlot(_ctx.$slots, \"title\")], 64))], 6);\n}\n\nvar MenuItem = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { MenuItem as default };","map":{"version":3,"mappings":"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","names":["COMPONENT_NAME","_sfc_main","defineComponent","name","components","ElTooltip","props","menuItemProps","emits","menuItemEmits","setup","emit","instance","getCurrentInstance","rootMenu","inject","throwError","useMenu","toRef","parentMenu","paddingStyle","indexPath","subMenu","value","uid","active","computed","index","activeIndex","item","reactive","handleClick","disabled","handleMenuItemClick","route","onMounted","addSubMenu","addMenuItem","onBeforeUnmount","removeSubMenu","removeMenuItem","Effect","style","position","_createElementBlock","class","_normalizeClass","_ctx","role","tabindex","_normalizeStyle","onClick","_cache","type","collapse","title","openBlock","_createBlock","_component_el_tooltip","key","effect","DARK","placement","persistent","content","_withCtx","_renderSlot","default","_createElementVNode","_","_Fragment"],"sources":["../../../../../../packages/components/menu/src/menu-item.vue"],"sourcesContent":["<template>\n  <li\n    class=\"el-menu-item\"\n    role=\"menuitem\"\n    tabindex=\"-1\"\n    :style=\"paddingStyle\"\n    :class=\"{\n      'is-active': active,\n      'is-disabled': disabled,\n    }\"\n    @click=\"handleClick\"\n  >\n    <el-tooltip\n      v-if=\"\n        parentMenu.type.name === 'ElMenu' &&\n        rootMenu.props.collapse &&\n        $slots.title\n      \"\n      :effect=\"Effect.DARK\"\n      placement=\"right\"\n      persistent\n    >\n      <template #content>\n        <slot name=\"title\" />\n      </template>\n      <div\n        :style=\"{\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          height: '100%',\n          width: '100%',\n          display: 'inline-block',\n          boxSizing: 'border-box',\n          padding: '0 20px',\n        }\"\n      >\n        <slot />\n      </div>\n    </el-tooltip>\n    <template v-else>\n      <slot />\n      <slot name=\"title\" />\n    </template>\n  </li>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  computed,\n  onMounted,\n  onBeforeUnmount,\n  inject,\n  getCurrentInstance,\n  toRef,\n  reactive,\n} from 'vue'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport { Effect } from '@element-plus/components/popper'\nimport { throwError } from '@element-plus/utils'\nimport useMenu from './use-menu'\nimport { menuItemEmits, menuItemProps } from './menu-item'\n\nimport type { MenuItemRegistered, MenuProvider, SubMenuProvider } from './types'\n\nconst COMPONENT_NAME = 'ElMenuItem'\nexport default defineComponent({\n  name: COMPONENT_NAME,\n  components: {\n    ElTooltip,\n  },\n\n  props: menuItemProps,\n  emits: menuItemEmits,\n\n  setup(props, { emit }) {\n    const instance = getCurrentInstance()!\n    const rootMenu = inject<MenuProvider>('rootMenu')\n    if (!rootMenu) throwError(COMPONENT_NAME, 'can not inject root menu')\n\n    const { parentMenu, paddingStyle, indexPath } = useMenu(\n      instance,\n      toRef(props, 'index')\n    )\n\n    const subMenu = inject<SubMenuProvider>(`subMenu:${parentMenu.value.uid}`)\n    if (!subMenu) throwError(COMPONENT_NAME, 'can not inject sub menu')\n\n    const active = computed(() => props.index === rootMenu.activeIndex)\n    const item: MenuItemRegistered = reactive({\n      index: props.index,\n      indexPath,\n      active,\n    })\n\n    const handleClick = () => {\n      if (!props.disabled) {\n        rootMenu.handleMenuItemClick({\n          index: props.index,\n          indexPath: indexPath.value,\n          route: props.route,\n        })\n        emit('click', item)\n      }\n    }\n\n    onMounted(() => {\n      subMenu.addSubMenu(item)\n      rootMenu.addMenuItem(item)\n    })\n\n    onBeforeUnmount(() => {\n      subMenu.removeSubMenu(item)\n      rootMenu.removeMenuItem(item)\n    })\n\n    return {\n      Effect,\n      parentMenu,\n      rootMenu,\n      paddingStyle,\n      active,\n\n      handleClick,\n    }\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}