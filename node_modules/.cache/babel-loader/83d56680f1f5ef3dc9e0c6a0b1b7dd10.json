{"ast":null,"code":"import \"core-js/modules/es.array.slice.js\";\nimport { defineComponent, ref, computed, nextTick, onMounted, watch, resolveComponent, resolveDirective, openBlock, createElementBlock, normalizeClass, Fragment, renderList, createBlock, withCtx, createTextVNode, toDisplayString, createCommentVNode, withDirectives, createVNode, createElementVNode } from 'vue';\nimport { debounce } from 'lodash-unified';\nimport '../../../../directives/index.mjs';\nimport { ElScrollbar } from '../../../scrollbar/index.mjs';\nimport { ElIcon } from '../../../icon/index.mjs';\nimport { ArrowUp, ArrowDown } from '@element-plus/icons-vue';\nimport { getTimeLists } from './useTimePicker.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport RepeatClick from '../../../../directives/repeat-click/index.mjs';\n\nvar _sfc_main = defineComponent({\n  directives: {\n    repeatClick: RepeatClick\n  },\n  components: {\n    ElScrollbar: ElScrollbar,\n    ElIcon: ElIcon,\n    ArrowUp: ArrowUp,\n    ArrowDown: ArrowDown\n  },\n  props: {\n    role: {\n      type: String,\n      required: true\n    },\n    spinnerDate: {\n      type: Object,\n      required: true\n    },\n    showSeconds: {\n      type: Boolean,\n      default: true\n    },\n    arrowControl: Boolean,\n    amPmMode: {\n      type: String,\n      default: \"\"\n    },\n    disabledHours: {\n      type: Function\n    },\n    disabledMinutes: {\n      type: Function\n    },\n    disabledSeconds: {\n      type: Function\n    }\n  },\n  emits: [\"change\", \"select-range\", \"set-option\"],\n  setup: function setup(props, ctx) {\n    var isScrolling = false;\n    var debouncedResetScroll = debounce(function (type) {\n      isScrolling = false;\n      adjustCurrentSpinner(type);\n    }, 200);\n    var currentScrollbar = ref(null);\n    var listHoursRef = ref(null);\n    var listMinutesRef = ref(null);\n    var listSecondsRef = ref(null);\n    var listRefsMap = {\n      hours: listHoursRef,\n      minutes: listMinutesRef,\n      seconds: listSecondsRef\n    };\n    var spinnerItems = computed(function () {\n      var arr = [\"hours\", \"minutes\", \"seconds\"];\n      return props.showSeconds ? arr : arr.slice(0, 2);\n    });\n    var hours = computed(function () {\n      return props.spinnerDate.hour();\n    });\n    var minutes = computed(function () {\n      return props.spinnerDate.minute();\n    });\n    var seconds = computed(function () {\n      return props.spinnerDate.second();\n    });\n    var timePartsMap = computed(function () {\n      return {\n        hours: hours,\n        minutes: minutes,\n        seconds: seconds\n      };\n    });\n    var hoursList = computed(function () {\n      return getHoursList(props.role);\n    });\n    var minutesList = computed(function () {\n      return getMinutesList(hours.value, props.role);\n    });\n    var secondsList = computed(function () {\n      return getSecondsList(hours.value, minutes.value, props.role);\n    });\n    var listMap = computed(function () {\n      return {\n        hours: hoursList,\n        minutes: minutesList,\n        seconds: secondsList\n      };\n    });\n    var arrowHourList = computed(function () {\n      var hour = hours.value;\n      return [hour > 0 ? hour - 1 : void 0, hour, hour < 23 ? hour + 1 : void 0];\n    });\n    var arrowMinuteList = computed(function () {\n      var minute = minutes.value;\n      return [minute > 0 ? minute - 1 : void 0, minute, minute < 59 ? minute + 1 : void 0];\n    });\n    var arrowSecondList = computed(function () {\n      var second = seconds.value;\n      return [second > 0 ? second - 1 : void 0, second, second < 59 ? second + 1 : void 0];\n    });\n    var arrowListMap = computed(function () {\n      return {\n        hours: arrowHourList,\n        minutes: arrowMinuteList,\n        seconds: arrowSecondList\n      };\n    });\n\n    var getAmPmFlag = function getAmPmFlag(hour) {\n      var shouldShowAmPm = !!props.amPmMode;\n      if (!shouldShowAmPm) return \"\";\n      var isCapital = props.amPmMode === \"A\";\n      var content = hour < 12 ? \" am\" : \" pm\";\n      if (isCapital) content = content.toUpperCase();\n      return content;\n    };\n\n    var emitSelectRange = function emitSelectRange(type) {\n      if (type === \"hours\") {\n        ctx.emit(\"select-range\", 0, 2);\n      } else if (type === \"minutes\") {\n        ctx.emit(\"select-range\", 3, 5);\n      } else if (type === \"seconds\") {\n        ctx.emit(\"select-range\", 6, 8);\n      }\n\n      currentScrollbar.value = type;\n    };\n\n    var adjustCurrentSpinner = function adjustCurrentSpinner(type) {\n      adjustSpinner(type, timePartsMap.value[type].value);\n    };\n\n    var adjustSpinners = function adjustSpinners() {\n      adjustCurrentSpinner(\"hours\");\n      adjustCurrentSpinner(\"minutes\");\n      adjustCurrentSpinner(\"seconds\");\n    };\n\n    var adjustSpinner = function adjustSpinner(type, value) {\n      if (props.arrowControl) return;\n      var el = listRefsMap[type];\n\n      if (el && el.$el) {\n        el.$el.querySelector(\".el-scrollbar__wrap\").scrollTop = Math.max(0, value * typeItemHeight(type));\n      }\n    };\n\n    var typeItemHeight = function typeItemHeight(type) {\n      var el = listRefsMap[type];\n      return el.$el.querySelector(\"li\").offsetHeight;\n    };\n\n    var onIncreaseClick = function onIncreaseClick() {\n      scrollDown(1);\n    };\n\n    var onDecreaseClick = function onDecreaseClick() {\n      scrollDown(-1);\n    };\n\n    var scrollDown = function scrollDown(step) {\n      if (!currentScrollbar.value) {\n        emitSelectRange(\"hours\");\n      }\n\n      var label = currentScrollbar.value;\n      var now = timePartsMap.value[label].value;\n      var total = currentScrollbar.value === \"hours\" ? 24 : 60;\n      now = (now + step + total) % total;\n      modifyDateField(label, now);\n      adjustSpinner(label, now);\n      nextTick(function () {\n        return emitSelectRange(currentScrollbar.value);\n      });\n    };\n\n    var modifyDateField = function modifyDateField(type, value) {\n      var list = listMap.value[type].value;\n      var isDisabled = list[value];\n      if (isDisabled) return;\n\n      switch (type) {\n        case \"hours\":\n          ctx.emit(\"change\", props.spinnerDate.hour(value).minute(minutes.value).second(seconds.value));\n          break;\n\n        case \"minutes\":\n          ctx.emit(\"change\", props.spinnerDate.hour(hours.value).minute(value).second(seconds.value));\n          break;\n\n        case \"seconds\":\n          ctx.emit(\"change\", props.spinnerDate.hour(hours.value).minute(minutes.value).second(value));\n          break;\n      }\n    };\n\n    var handleClick = function handleClick(type, _ref) {\n      var value = _ref.value,\n          disabled = _ref.disabled;\n\n      if (!disabled) {\n        modifyDateField(type, value);\n        emitSelectRange(type);\n        adjustSpinner(type, value);\n      }\n    };\n\n    var handleScroll = function handleScroll(type) {\n      isScrolling = true;\n      debouncedResetScroll(type);\n      var value = Math.min(Math.round((listRefsMap[type].$el.querySelector(\".el-scrollbar__wrap\").scrollTop - (scrollBarHeight(type) * 0.5 - 10) / typeItemHeight(type) + 3) / typeItemHeight(type)), type === \"hours\" ? 23 : 59);\n      modifyDateField(type, value);\n    };\n\n    var scrollBarHeight = function scrollBarHeight(type) {\n      return listRefsMap[type].$el.offsetHeight;\n    };\n\n    var bindScrollEvent = function bindScrollEvent() {\n      var bindFuntion = function bindFuntion(type) {\n        if (listRefsMap[type] && listRefsMap[type].$el) {\n          listRefsMap[type].$el.querySelector(\".el-scrollbar__wrap\").onscroll = function () {\n            handleScroll(type);\n          };\n        }\n      };\n\n      bindFuntion(\"hours\");\n      bindFuntion(\"minutes\");\n      bindFuntion(\"seconds\");\n    };\n\n    onMounted(function () {\n      nextTick(function () {\n        !props.arrowControl && bindScrollEvent();\n        adjustSpinners();\n        if (props.role === \"start\") emitSelectRange(\"hours\");\n      });\n    });\n\n    var setRef = function setRef(scrollbar, type) {\n      listRefsMap[type] = scrollbar;\n    };\n\n    ctx.emit(\"set-option\", [\"\".concat(props.role, \"_scrollDown\"), scrollDown]);\n    ctx.emit(\"set-option\", [\"\".concat(props.role, \"_emitSelectRange\"), emitSelectRange]);\n\n    var _getTimeLists = getTimeLists(props.disabledHours, props.disabledMinutes, props.disabledSeconds),\n        getHoursList = _getTimeLists.getHoursList,\n        getMinutesList = _getTimeLists.getMinutesList,\n        getSecondsList = _getTimeLists.getSecondsList;\n\n    watch(function () {\n      return props.spinnerDate;\n    }, function () {\n      if (isScrolling) return;\n      adjustSpinners();\n    });\n    return {\n      setRef: setRef,\n      spinnerItems: spinnerItems,\n      currentScrollbar: currentScrollbar,\n      hours: hours,\n      minutes: minutes,\n      seconds: seconds,\n      hoursList: hoursList,\n      minutesList: minutesList,\n      arrowHourList: arrowHourList,\n      arrowMinuteList: arrowMinuteList,\n      arrowSecondList: arrowSecondList,\n      getAmPmFlag: getAmPmFlag,\n      emitSelectRange: emitSelectRange,\n      adjustCurrentSpinner: adjustCurrentSpinner,\n      typeItemHeight: typeItemHeight,\n      listHoursRef: listHoursRef,\n      listMinutesRef: listMinutesRef,\n      listSecondsRef: listSecondsRef,\n      onIncreaseClick: onIncreaseClick,\n      onDecreaseClick: onDecreaseClick,\n      handleClick: handleClick,\n      secondsList: secondsList,\n      timePartsMap: timePartsMap,\n      arrowListMap: arrowListMap,\n      listMap: listMap\n    };\n  }\n});\n\nvar _hoisted_1 = [\"onClick\"];\nvar _hoisted_2 = [\"onMouseenter\"];\nvar _hoisted_3 = {\n  class: \"el-time-spinner__list\"\n};\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n\n  var _component_arrow_up = resolveComponent(\"arrow-up\");\n\n  var _component_el_icon = resolveComponent(\"el-icon\");\n\n  var _component_arrow_down = resolveComponent(\"arrow-down\");\n\n  var _directive_repeat_click = resolveDirective(\"repeat-click\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"el-time-spinner\", {\n      \"has-seconds\": _ctx.showSeconds\n    }])\n  }, [!_ctx.arrowControl ? (openBlock(true), createElementBlock(Fragment, {\n    key: 0\n  }, renderList(_ctx.spinnerItems, function (item) {\n    return openBlock(), createBlock(_component_el_scrollbar, {\n      key: item,\n      ref_for: true,\n      ref: function ref(scollbar) {\n        return _ctx.setRef(scollbar, item);\n      },\n      class: \"el-time-spinner__wrapper\",\n      \"wrap-style\": \"max-height: inherit;\",\n      \"view-class\": \"el-time-spinner__list\",\n      noresize: \"\",\n      tag: \"ul\",\n      onMouseenter: function onMouseenter($event) {\n        return _ctx.emitSelectRange(item);\n      },\n      onMousemove: function onMousemove($event) {\n        return _ctx.adjustCurrentSpinner(item);\n      }\n    }, {\n      default: withCtx(function () {\n        return [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.listMap[item].value, function (disabled, key) {\n          return openBlock(), createElementBlock(\"li\", {\n            key: key,\n            class: normalizeClass([\"el-time-spinner__item\", {\n              active: key === _ctx.timePartsMap[item].value,\n              disabled: disabled\n            }]),\n            onClick: function onClick($event) {\n              return _ctx.handleClick(item, {\n                value: key,\n                disabled: disabled\n              });\n            }\n          }, [item === \"hours\" ? (openBlock(), createElementBlock(Fragment, {\n            key: 0\n          }, [createTextVNode(toDisplayString((\"0\" + (_ctx.amPmMode ? key % 12 || 12 : key)).slice(-2)) + toDisplayString(_ctx.getAmPmFlag(key)), 1)], 2112)) : (openBlock(), createElementBlock(Fragment, {\n            key: 1\n          }, [createTextVNode(toDisplayString((\"0\" + key).slice(-2)), 1)], 2112))], 10, _hoisted_1);\n        }), 128))];\n      }),\n      _: 2\n    }, 1032, [\"onMouseenter\", \"onMousemove\"]);\n  }), 128)) : createCommentVNode(\"v-if\", true), _ctx.arrowControl ? (openBlock(true), createElementBlock(Fragment, {\n    key: 1\n  }, renderList(_ctx.spinnerItems, function (item) {\n    return openBlock(), createElementBlock(\"div\", {\n      key: item,\n      class: \"el-time-spinner__wrapper is-arrow\",\n      onMouseenter: function onMouseenter($event) {\n        return _ctx.emitSelectRange(item);\n      }\n    }, [withDirectives((openBlock(), createBlock(_component_el_icon, {\n      class: \"el-time-spinner__arrow arrow-up\"\n    }, {\n      default: withCtx(function () {\n        return [createVNode(_component_arrow_up)];\n      }),\n      _: 1\n    })), [[_directive_repeat_click, _ctx.onDecreaseClick]]), withDirectives((openBlock(), createBlock(_component_el_icon, {\n      class: \"el-time-spinner__arrow arrow-down\"\n    }, {\n      default: withCtx(function () {\n        return [createVNode(_component_arrow_down)];\n      }),\n      _: 1\n    })), [[_directive_repeat_click, _ctx.onIncreaseClick]]), createElementVNode(\"ul\", _hoisted_3, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.arrowListMap[item].value, function (time, key) {\n      return openBlock(), createElementBlock(\"li\", {\n        key: key,\n        class: normalizeClass([\"el-time-spinner__item\", {\n          active: time === _ctx.timePartsMap[item].value,\n          disabled: _ctx.listMap[item].value[time]\n        }])\n      }, [typeof time === \"number\" ? (openBlock(), createElementBlock(Fragment, {\n        key: 0\n      }, [item === \"hours\" ? (openBlock(), createElementBlock(Fragment, {\n        key: 0\n      }, [createTextVNode(toDisplayString((\"0\" + (_ctx.amPmMode ? time % 12 || 12 : time)).slice(-2)) + toDisplayString(_ctx.getAmPmFlag(time)), 1)], 2112)) : (openBlock(), createElementBlock(Fragment, {\n        key: 1\n      }, [createTextVNode(toDisplayString((\"0\" + time).slice(-2)), 1)], 2112))], 2112)) : createCommentVNode(\"v-if\", true)], 2);\n    }), 128))])], 40, _hoisted_2);\n  }), 128)) : createCommentVNode(\"v-if\", true)], 2);\n}\n\nvar TimeSpinner = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { TimeSpinner as default };","map":{"version":3,"mappings":"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","names":["_sfc_main","defineComponent","directives","repeatClick","RepeatClick","components","ElScrollbar","ElIcon","ArrowUp","ArrowDown","props","role","type","String","required","spinnerDate","Object","showSeconds","Boolean","default","arrowControl","amPmMode","disabledHours","Function","disabledMinutes","disabledSeconds","emits","setup","ctx","isScrolling","debouncedResetScroll","debounce","adjustCurrentSpinner","currentScrollbar","ref","listHoursRef","listMinutesRef","listSecondsRef","listRefsMap","hours","minutes","seconds","spinnerItems","computed","arr","slice","hour","minute","second","timePartsMap","hoursList","getHoursList","minutesList","getMinutesList","value","secondsList","getSecondsList","listMap","arrowHourList","arrowMinuteList","arrowSecondList","arrowListMap","getAmPmFlag","shouldShowAmPm","isCapital","content","toUpperCase","emitSelectRange","emit","adjustSpinner","adjustSpinners","el","$el","querySelector","scrollTop","Math","max","typeItemHeight","offsetHeight","onIncreaseClick","scrollDown","onDecreaseClick","step","label","now","total","modifyDateField","nextTick","list","isDisabled","handleClick","disabled","handleScroll","min","round","scrollBarHeight","bindScrollEvent","bindFuntion","onscroll","onMounted","setRef","scrollbar","getTimeLists","watch","class","_createElementBlock","_normalizeClass","_ctx","_Fragment","item","_createBlock","_component_el_scrollbar","key","ref_for","scollbar","noresize","tag","onMouseenter","onMousemove","active","onClick","openBlock","toDisplayString","_component_el_icon","_createVNode","_component_arrow_up","_","withDirectives","_component_arrow_down","_createElementVNode","time"],"sources":["../../../../../../../packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"],"sourcesContent":["<template>\n  <div class=\"el-time-spinner\" :class=\"{ 'has-seconds': showSeconds }\">\n    <template v-if=\"!arrowControl\">\n      <el-scrollbar\n        v-for=\"item in spinnerItems\"\n        :key=\"item\"\n        :ref=\"(scollbar) => setRef(scollbar, item)\"\n        class=\"el-time-spinner__wrapper\"\n        wrap-style=\"max-height: inherit;\"\n        view-class=\"el-time-spinner__list\"\n        noresize\n        tag=\"ul\"\n        @mouseenter=\"emitSelectRange(item)\"\n        @mousemove=\"adjustCurrentSpinner(item)\"\n      >\n        <li\n          v-for=\"(disabled, key) in listMap[item].value\"\n          :key=\"key\"\n          class=\"el-time-spinner__item\"\n          :class=\"{ active: key === timePartsMap[item].value, disabled }\"\n          @click=\"handleClick(item, { value: key, disabled })\"\n        >\n          <template v-if=\"item === 'hours'\">\n            {{ ('0' + (amPmMode ? key % 12 || 12 : key)).slice(-2)\n            }}{{ getAmPmFlag(key) }}\n          </template>\n          <template v-else>\n            {{ ('0' + key).slice(-2) }}\n          </template>\n        </li>\n      </el-scrollbar>\n    </template>\n    <template v-if=\"arrowControl\">\n      <div\n        v-for=\"item in spinnerItems\"\n        :key=\"item\"\n        class=\"el-time-spinner__wrapper is-arrow\"\n        @mouseenter=\"emitSelectRange(item)\"\n      >\n        <el-icon\n          v-repeat-click=\"onDecreaseClick\"\n          class=\"el-time-spinner__arrow arrow-up\"\n        >\n          <arrow-up />\n        </el-icon>\n        <el-icon\n          v-repeat-click=\"onIncreaseClick\"\n          class=\"el-time-spinner__arrow arrow-down\"\n        >\n          <arrow-down />\n        </el-icon>\n        <ul class=\"el-time-spinner__list\">\n          <li\n            v-for=\"(time, key) in arrowListMap[item].value\"\n            :key=\"key\"\n            class=\"el-time-spinner__item\"\n            :class=\"{\n              active: time === timePartsMap[item].value,\n              disabled: listMap[item].value[time],\n            }\"\n          >\n            <template v-if=\"typeof time === 'number'\">\n              <template v-if=\"item === 'hours'\">\n                {{ ('0' + (amPmMode ? time % 12 || 12 : time)).slice(-2)\n                }}{{ getAmPmFlag(time) }}\n              </template>\n              <template v-else>\n                {{ ('0' + time).slice(-2) }}\n              </template>\n            </template>\n          </li>\n        </ul>\n      </div>\n    </template>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, ref, nextTick, computed, onMounted, watch } from 'vue'\nimport { debounce } from 'lodash-unified'\nimport { RepeatClick } from '@element-plus/directives'\nimport ElScrollbar from '@element-plus/components/scrollbar'\nimport ElIcon from '@element-plus/components/icon'\nimport { ArrowUp, ArrowDown } from '@element-plus/icons-vue'\nimport { getTimeLists } from './useTimePicker'\n\nimport type { PropType, Ref } from 'vue'\nimport type { Dayjs } from 'dayjs'\nimport type { Nullable } from '@element-plus/utils'\n\nexport default defineComponent({\n  directives: {\n    repeatClick: RepeatClick,\n  },\n\n  components: {\n    ElScrollbar,\n    ElIcon,\n    ArrowUp,\n    ArrowDown,\n  },\n\n  props: {\n    role: {\n      type: String,\n      required: true,\n    },\n    spinnerDate: {\n      type: Object as PropType<Dayjs>,\n      required: true,\n    },\n    showSeconds: {\n      type: Boolean,\n      default: true,\n    },\n    arrowControl: Boolean,\n    amPmMode: {\n      type: String,\n      default: '', // 'a': am/pm; 'A': AM/PM\n    },\n    disabledHours: {\n      type: Function,\n    },\n    disabledMinutes: {\n      type: Function,\n    },\n    disabledSeconds: {\n      type: Function,\n    },\n  },\n\n  emits: ['change', 'select-range', 'set-option'],\n\n  setup(props, ctx) {\n    // data\n    let isScrolling = false\n    const debouncedResetScroll = debounce((type) => {\n      isScrolling = false\n      adjustCurrentSpinner(type)\n    }, 200)\n    const currentScrollbar = ref(null)\n    const listHoursRef: Ref<Nullable<HTMLElement>> = ref(null)\n    const listMinutesRef: Ref<Nullable<HTMLElement>> = ref(null)\n    const listSecondsRef: Ref<Nullable<HTMLElement>> = ref(null)\n    const listRefsMap = {\n      hours: listHoursRef,\n      minutes: listMinutesRef,\n      seconds: listSecondsRef,\n    }\n\n    // computed\n    const spinnerItems = computed(() => {\n      const arr = ['hours', 'minutes', 'seconds']\n      return props.showSeconds ? arr : arr.slice(0, 2)\n    })\n    const hours = computed(() => {\n      return props.spinnerDate.hour()\n    })\n    const minutes = computed(() => {\n      return props.spinnerDate.minute()\n    })\n    const seconds = computed(() => {\n      return props.spinnerDate.second()\n    })\n    const timePartsMap = computed(() => ({\n      hours,\n      minutes,\n      seconds,\n    }))\n    const hoursList = computed(() => {\n      return getHoursList(props.role)\n    })\n    const minutesList = computed(() => {\n      return getMinutesList(hours.value, props.role)\n    })\n    const secondsList = computed(() => {\n      return getSecondsList(hours.value, minutes.value, props.role)\n    })\n    const listMap = computed(() => ({\n      hours: hoursList,\n      minutes: minutesList,\n      seconds: secondsList,\n    }))\n    const arrowHourList = computed(() => {\n      const hour = hours.value\n      return [\n        hour > 0 ? hour - 1 : undefined,\n        hour,\n        hour < 23 ? hour + 1 : undefined,\n      ]\n    })\n    const arrowMinuteList = computed(() => {\n      const minute = minutes.value\n      return [\n        minute > 0 ? minute - 1 : undefined,\n        minute,\n        minute < 59 ? minute + 1 : undefined,\n      ]\n    })\n    const arrowSecondList = computed(() => {\n      const second = seconds.value\n      return [\n        second > 0 ? second - 1 : undefined,\n        second,\n        second < 59 ? second + 1 : undefined,\n      ]\n    })\n    const arrowListMap = computed(() => ({\n      hours: arrowHourList,\n      minutes: arrowMinuteList,\n      seconds: arrowSecondList,\n    }))\n    const getAmPmFlag = (hour) => {\n      const shouldShowAmPm = !!props.amPmMode\n      if (!shouldShowAmPm) return ''\n      const isCapital = props.amPmMode === 'A'\n      // todo locale\n      let content = hour < 12 ? ' am' : ' pm'\n      if (isCapital) content = content.toUpperCase()\n      return content\n    }\n\n    const emitSelectRange = (type) => {\n      if (type === 'hours') {\n        ctx.emit('select-range', 0, 2)\n      } else if (type === 'minutes') {\n        ctx.emit('select-range', 3, 5)\n      } else if (type === 'seconds') {\n        ctx.emit('select-range', 6, 8)\n      }\n      currentScrollbar.value = type\n    }\n\n    const adjustCurrentSpinner = (type) => {\n      adjustSpinner(type, timePartsMap.value[type].value)\n    }\n\n    // NOTE: used by datetime / date-range panel\n    //       renamed from adjustScrollTop\n    //       should try to refactory it\n    const adjustSpinners = () => {\n      adjustCurrentSpinner('hours')\n      adjustCurrentSpinner('minutes')\n      adjustCurrentSpinner('seconds')\n    }\n\n    const adjustSpinner = (type, value) => {\n      if (props.arrowControl) return\n      const el = listRefsMap[type]\n      if (el && el.$el) {\n        el.$el.querySelector('.el-scrollbar__wrap').scrollTop = Math.max(\n          0,\n          value * typeItemHeight(type)\n        )\n      }\n    }\n\n    const typeItemHeight = (type) => {\n      const el = listRefsMap[type]\n      return el.$el.querySelector('li').offsetHeight\n    }\n\n    const onIncreaseClick = () => {\n      scrollDown(1)\n    }\n\n    const onDecreaseClick = () => {\n      scrollDown(-1)\n    }\n\n    const scrollDown = (step) => {\n      if (!currentScrollbar.value) {\n        emitSelectRange('hours')\n      }\n\n      const label = currentScrollbar.value\n      let now = timePartsMap.value[label].value\n      const total = currentScrollbar.value === 'hours' ? 24 : 60\n      now = (now + step + total) % total\n\n      modifyDateField(label, now)\n      adjustSpinner(label, now)\n      nextTick(() => emitSelectRange(currentScrollbar.value))\n    }\n\n    const modifyDateField = (type, value) => {\n      const list = listMap.value[type].value\n      const isDisabled = list[value]\n      if (isDisabled) return\n      switch (type) {\n        case 'hours':\n          ctx.emit(\n            'change',\n            props.spinnerDate\n              .hour(value)\n              .minute(minutes.value)\n              .second(seconds.value)\n          )\n          break\n        case 'minutes':\n          ctx.emit(\n            'change',\n            props.spinnerDate\n              .hour(hours.value)\n              .minute(value)\n              .second(seconds.value)\n          )\n          break\n        case 'seconds':\n          ctx.emit(\n            'change',\n            props.spinnerDate\n              .hour(hours.value)\n              .minute(minutes.value)\n              .second(value)\n          )\n          break\n      }\n    }\n\n    const handleClick = (type, { value, disabled }) => {\n      if (!disabled) {\n        modifyDateField(type, value)\n        emitSelectRange(type)\n        adjustSpinner(type, value)\n      }\n    }\n\n    const handleScroll = (type) => {\n      isScrolling = true\n      debouncedResetScroll(type)\n      const value = Math.min(\n        Math.round(\n          (listRefsMap[type].$el.querySelector('.el-scrollbar__wrap')\n            .scrollTop -\n            (scrollBarHeight(type) * 0.5 - 10) / typeItemHeight(type) +\n            3) /\n            typeItemHeight(type)\n        ),\n        type === 'hours' ? 23 : 59\n      )\n      modifyDateField(type, value)\n    }\n\n    const scrollBarHeight = (type) => {\n      return listRefsMap[type].$el.offsetHeight\n    }\n\n    const bindScrollEvent = () => {\n      const bindFuntion = (type) => {\n        if (listRefsMap[type] && listRefsMap[type].$el) {\n          listRefsMap[type].$el.querySelector('.el-scrollbar__wrap').onscroll =\n            () => {\n              // TODO: scroll is emitted when set scrollTop programatically\n              // should find better solutions in the future!\n              handleScroll(type)\n            }\n        }\n      }\n      bindFuntion('hours')\n      bindFuntion('minutes')\n      bindFuntion('seconds')\n    }\n\n    onMounted(() => {\n      nextTick(() => {\n        !props.arrowControl && bindScrollEvent()\n        adjustSpinners()\n        // set selection on the first hour part\n        if (props.role === 'start') emitSelectRange('hours')\n      })\n    })\n\n    const setRef = (scrollbar, type) => {\n      listRefsMap[type] = scrollbar\n    }\n\n    ctx.emit('set-option', [`${props.role}_scrollDown`, scrollDown])\n    ctx.emit('set-option', [`${props.role}_emitSelectRange`, emitSelectRange])\n\n    const { getHoursList, getMinutesList, getSecondsList } = getTimeLists(\n      props.disabledHours,\n      props.disabledMinutes,\n      props.disabledSeconds\n    )\n\n    watch(\n      () => props.spinnerDate,\n      () => {\n        if (isScrolling) return\n        adjustSpinners()\n      }\n    )\n\n    return {\n      setRef,\n      spinnerItems,\n      currentScrollbar,\n      hours,\n      minutes,\n      seconds,\n      hoursList,\n      minutesList,\n      arrowHourList,\n      arrowMinuteList,\n      arrowSecondList,\n      getAmPmFlag,\n      emitSelectRange,\n      adjustCurrentSpinner,\n      typeItemHeight,\n      listHoursRef,\n      listMinutesRef,\n      listSecondsRef,\n      onIncreaseClick,\n      onDecreaseClick,\n      handleClick,\n      secondsList,\n      timePartsMap,\n      arrowListMap,\n      listMap,\n    }\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}