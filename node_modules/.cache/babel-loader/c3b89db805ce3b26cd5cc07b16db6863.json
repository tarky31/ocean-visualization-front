{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport { defineComponent, reactive, toRefs, resolveComponent, openBlock, createElementBlock, normalizeClass, normalizeStyle, withKeys, withModifiers, createVNode, withCtx, createElementVNode, toDisplayString } from 'vue';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { useSliderButton } from './useSliderButton.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nvar _sfc_main = defineComponent({\n  name: \"ElSliderButton\",\n  components: {\n    ElTooltip: ElTooltip\n  },\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    tooltipClass: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var ns = useNamespace(\"slider\");\n    var initData = reactive({\n      hovering: false,\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      currentX: 0,\n      startY: 0,\n      currentY: 0,\n      startPosition: 0,\n      newPosition: 0,\n      oldValue: props.modelValue\n    });\n\n    var _useSliderButton = useSliderButton(props, initData, emit),\n        tooltip = _useSliderButton.tooltip,\n        showTooltip = _useSliderButton.showTooltip,\n        tooltipVisible = _useSliderButton.tooltipVisible,\n        wrapperStyle = _useSliderButton.wrapperStyle,\n        formatValue = _useSliderButton.formatValue,\n        handleMouseEnter = _useSliderButton.handleMouseEnter,\n        handleMouseLeave = _useSliderButton.handleMouseLeave,\n        onButtonDown = _useSliderButton.onButtonDown,\n        onLeftKeyDown = _useSliderButton.onLeftKeyDown,\n        onRightKeyDown = _useSliderButton.onRightKeyDown,\n        setPosition = _useSliderButton.setPosition;\n\n    var _toRefs = toRefs(initData),\n        hovering = _toRefs.hovering,\n        dragging = _toRefs.dragging;\n\n    return {\n      ns: ns,\n      tooltip: tooltip,\n      tooltipVisible: tooltipVisible,\n      showTooltip: showTooltip,\n      wrapperStyle: wrapperStyle,\n      formatValue: formatValue,\n      handleMouseEnter: handleMouseEnter,\n      handleMouseLeave: handleMouseLeave,\n      onButtonDown: onButtonDown,\n      onLeftKeyDown: onLeftKeyDown,\n      onRightKeyDown: onRightKeyDown,\n      setPosition: setPosition,\n      hovering: hovering,\n      dragging: dragging\n    };\n  }\n});\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_tooltip = resolveComponent(\"el-tooltip\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"button\",\n    class: normalizeClass([_ctx.ns.e(\"button-wrapper\"), {\n      hover: _ctx.hovering,\n      dragging: _ctx.dragging\n    }]),\n    style: normalizeStyle(_ctx.wrapperStyle),\n    tabindex: \"0\",\n    onMouseenter: _cache[1] || (_cache[1] = function () {\n      return _ctx.handleMouseEnter && _ctx.handleMouseEnter.apply(_ctx, arguments);\n    }),\n    onMouseleave: _cache[2] || (_cache[2] = function () {\n      return _ctx.handleMouseLeave && _ctx.handleMouseLeave.apply(_ctx, arguments);\n    }),\n    onMousedown: _cache[3] || (_cache[3] = function () {\n      return _ctx.onButtonDown && _ctx.onButtonDown.apply(_ctx, arguments);\n    }),\n    onTouchstart: _cache[4] || (_cache[4] = function () {\n      return _ctx.onButtonDown && _ctx.onButtonDown.apply(_ctx, arguments);\n    }),\n    onFocus: _cache[5] || (_cache[5] = function () {\n      return _ctx.handleMouseEnter && _ctx.handleMouseEnter.apply(_ctx, arguments);\n    }),\n    onBlur: _cache[6] || (_cache[6] = function () {\n      return _ctx.handleMouseLeave && _ctx.handleMouseLeave.apply(_ctx, arguments);\n    }),\n    onKeydown: [_cache[7] || (_cache[7] = withKeys(function () {\n      return _ctx.onLeftKeyDown && _ctx.onLeftKeyDown.apply(_ctx, arguments);\n    }, [\"left\"])), _cache[8] || (_cache[8] = withKeys(function () {\n      return _ctx.onRightKeyDown && _ctx.onRightKeyDown.apply(_ctx, arguments);\n    }, [\"right\"])), _cache[9] || (_cache[9] = withKeys(withModifiers(function () {\n      return _ctx.onLeftKeyDown && _ctx.onLeftKeyDown.apply(_ctx, arguments);\n    }, [\"prevent\"]), [\"down\"])), _cache[10] || (_cache[10] = withKeys(withModifiers(function () {\n      return _ctx.onRightKeyDown && _ctx.onRightKeyDown.apply(_ctx, arguments);\n    }, [\"prevent\"]), [\"up\"]))]\n  }, [createVNode(_component_el_tooltip, {\n    ref: \"tooltip\",\n    visible: _ctx.tooltipVisible,\n    \"onUpdate:visible\": _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.tooltipVisible = $event;\n    }),\n    placement: \"top\",\n    \"stop-popper-mouse-event\": false,\n    \"popper-class\": _ctx.tooltipClass,\n    disabled: !_ctx.showTooltip,\n    persistent: \"\"\n  }, {\n    content: withCtx(function () {\n      return [createElementVNode(\"span\", null, toDisplayString(_ctx.formatValue), 1)];\n    }),\n    default: withCtx(function () {\n      return [createElementVNode(\"div\", {\n        class: normalizeClass([_ctx.ns.e(\"button\"), {\n          hover: _ctx.hovering,\n          dragging: _ctx.dragging\n        }])\n      }, null, 2)];\n    }),\n    _: 1\n  }, 8, [\"visible\", \"popper-class\", \"disabled\"])], 38);\n}\n\nvar SliderButton = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { SliderButton as default };","map":{"version":3,"mappings":"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","names":["_sfc_main","defineComponent","name","components","ElTooltip","props","modelValue","type","Number","default","vertical","Boolean","tooltipClass","String","emits","UPDATE_MODEL_EVENT","setup","emit","ns","useNamespace","initData","reactive","hovering","dragging","isClick","startX","currentX","startY","currentY","startPosition","newPosition","oldValue","useSliderButton","tooltip","showTooltip","tooltipVisible","wrapperStyle","formatValue","handleMouseEnter","handleMouseLeave","onButtonDown","onLeftKeyDown","onRightKeyDown","setPosition","toRefs","_createElementBlock","ref","class","_normalizeClass","_ctx","e","hover","style","_normalizeStyle","tabindex","onMouseenter","_cache","onMouseleave","onMousedown","onTouchstart","onFocus","onBlur","onKeydown","_createVNode","_component_el_tooltip","visible","$event","placement","disabled","persistent","content","_withCtx","_createElementVNode","toDisplayString"],"sources":["../../../../../../packages/components/slider/src/button.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"button\"\n    :class=\"[ns.e('button-wrapper'), { hover: hovering, dragging }]\"\n    :style=\"wrapperStyle\"\n    tabindex=\"0\"\n    @mouseenter=\"handleMouseEnter\"\n    @mouseleave=\"handleMouseLeave\"\n    @mousedown=\"onButtonDown\"\n    @touchstart=\"onButtonDown\"\n    @focus=\"handleMouseEnter\"\n    @blur=\"handleMouseLeave\"\n    @keydown.left=\"onLeftKeyDown\"\n    @keydown.right=\"onRightKeyDown\"\n    @keydown.down.prevent=\"onLeftKeyDown\"\n    @keydown.up.prevent=\"onRightKeyDown\"\n  >\n    <el-tooltip\n      ref=\"tooltip\"\n      v-model:visible=\"tooltipVisible\"\n      placement=\"top\"\n      :stop-popper-mouse-event=\"false\"\n      :popper-class=\"tooltipClass\"\n      :disabled=\"!showTooltip\"\n      persistent\n    >\n      <template #content>\n        <span>{{ formatValue }}</span>\n      </template>\n      <div :class=\"[ns.e('button'), { hover: hovering, dragging }]\"></div>\n    </el-tooltip>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs } from 'vue'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport { UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport { useNamespace } from '@element-plus/hooks'\nimport { useSliderButton } from './useSliderButton'\n\nexport default defineComponent({\n  name: 'ElSliderButton',\n\n  components: {\n    ElTooltip,\n  },\n\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0,\n    },\n    vertical: {\n      type: Boolean,\n      default: false,\n    },\n    tooltipClass: {\n      type: String,\n      default: '',\n    },\n  },\n\n  emits: [UPDATE_MODEL_EVENT],\n\n  setup(props, { emit }) {\n    const ns = useNamespace('slider')\n    const initData = reactive({\n      hovering: false,\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      currentX: 0,\n      startY: 0,\n      currentY: 0,\n      startPosition: 0,\n      newPosition: 0,\n      oldValue: props.modelValue,\n    })\n\n    const {\n      tooltip,\n      showTooltip,\n      tooltipVisible,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition,\n    } = useSliderButton(props, initData, emit)\n\n    const { hovering, dragging } = toRefs(initData)\n\n    return {\n      ns,\n      tooltip,\n      tooltipVisible,\n      showTooltip,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition,\n\n      hovering,\n      dragging,\n    }\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}